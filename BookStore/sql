DROP DATABASE IF EXISTS QUANLYBANSACH;

CREATE DATABASE QUANLYBANSACH CHARACTER SET utf8 COLLATE utf8_unicode_ci;
Use QUANLYBANSACH;

create table ROLE
(
    id   int(11)      not null primary key auto_increment,
    name varchar(100) not null unique
);

ALTER TABLE ROLE
    AUTO_INCREMENT = 100001;

insert into ROLE(name)
VALUES ('ADMIN');
insert into ROLE(name)
VALUES ('USER');

create table USER
(
    id        int(11)       not null auto_increment primary key,
    user_name varchar(100)  not null unique,
    password  varchar(100)  not null,
    full_name nvarchar(100) not null,
    phone     varchar(100)  not null,
    email     varchar(100)  not null,
    role_id   int,
    constraint fk_1 foreign key (role_id) references role (id) ON DELETE CASCADE
);

ALTER TABLE USER
    AUTO_INCREMENT = 100001;

insert into USER(user_name, password, full_name, phone, email, role_id)
values ('admin', 'admin', 'Ngoc Anh', '0914663198', 'tyhuhu.nguyen@gmail.com', 100001);
insert into USER(user_name, password, full_name, phone, email, role_id)
values ('user', 'user', 'Ngoc Anh', '0914663198', 'tyhuhu.nguyen@gmail.com', 100002);

create table CATEGORY
(
    id   int(11) not null primary key auto_increment,
    name nvarchar(20) unique,
    note nvarchar(100)
);

ALTER TABLE CATEGORY
    AUTO_INCREMENT = 100001;

insert into CATEGORY(name)
VALUES ('Văn Học');
insert into CATEGORY(name)
VALUES ('Kinh Tế');
insert into CATEGORY(name)
VALUES ('Kỹ Năng Sống');
insert into CATEGORY(name)
VALUES ('Giáo Dục');
insert into CATEGORY(name)
VALUES ('Tâm Lý');
insert into CATEGORY(name)
VALUES ('Giới Trẻ');
insert into CATEGORY(name)
VALUES ('Ngoại Ngữ');
insert into CATEGORY(name)
VALUES ('Thiếu Nhi');
insert into CATEGORY(name)
VALUES ('Làm Đẹp');
insert into CATEGORY(name)
VALUES ('Thể Thao');


create table PRODUCT
(
    id           int(11)       not null primary key auto_increment,
    name         nvarchar(100) not null unique,
    image        varchar(100)  not null,
    info         nvarchar(5000),
    descriptions nvarchar(5000),
    price        int(100),
    sale_price   int(100),
    category_id  int(11),
    author       nvarchar(100),
    constraint fk_2 foreign key (category_id) references CATEGORY (id) ON DELETE CASCADE
);

ALTER TABLE PRODUCT
    AUTO_INCREMENT = 100001;

#Van Hoc
insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Hai Vạn Dặm Dưới Biển', '/image/hai-van-dam-duoi-bien.png',
        'Jules Gabriel Verne (1828 - 1905), là nhà văn Pháp nổi tiếng, được coi là một trong những người “Cha đẻ” của thể loại NXB Văn Học Khoa học viễn tưởng. Ở Jules Verne, nhà văn và nhà bác học chỉ là một. Ông có kiến thức sâu rộng, có óc tưởng tượng vô cùng phong phú, có nhiều tư tưởng tiến bộ và là một tấm gương lao động sáng ngời. Ông đã để lại một di sản NXB Văn Học - khoa học lớn cả về số lượng và chất lượng: Từ trái đất lên mặt trăng (1865), Những đứa con của thuyền trưởng Grăng (1867), Hai vạn dặm dưới đáy biển (1869), Vòng quanh thế giới trong 80 ngày (1873)…',
        'Hai Vạn Dặm Dưới Biển là một trong những tác phẩm thành công nhất của Jules Verne. Rất nhiều năm đã qua, những hiểu biết mọi mặt của con người về biển đã tiến những bước dài. Nhiều khái niệm đã đổi thay về căn bản. Nhưng sự phát triển của khoa học, kỹ thuật không làm chúng ta giảm lòng yêu mến và kính phục Jules Verne, vì cuốn sách này đã góp phần hướng biết bao thanh thiếu niên tiến vào khoa học, và bao người sau này đã trở thành những nhà hải dương học, ngư học và chế tạo tàu ngầm!',
        86700, 0, 100001, 'Jules Gabriel Verne');
insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Tắt Đèn', '/image/tat-den.png',
        'Tắt Đèn là một trong những tác phẩm văn học tiêu biểu nhất của nhà văn Ngô Tất Tố (tiểu thuyết, in trên báo Việt nữ năm 1937). Đây là một tác phẩm văn học hiện thực phê phán với nội dung nói về cuộc sống khốn khổ của tầng lớp nông dân Việt Nam đầu thế kỉ 20 dưới ách đô hộ của thực dân Pháp và...',
        'Tắt Đèn là một trong những tác phẩm văn học tiêu biểu nhất của nhà văn Ngô Tất Tố (tiểu thuyết, in trên báo Việt nữ năm 1937). Đây là một tác phẩm văn học hiện thực phê phán với nội dung nói về cuộc sống khốn khổ của tầng lớp nông dân Việt Nam đầu thế kỉ 20 dưới ách đô hộ của thực dân Pháp và quả đúng như nhà văn Vũ Trọng Phụng đã từng nhận xét "Tắt đèn là một tiểu thuyết có luận đề xã hội hoàn toàn phụng sự dân quê, một áng văn có thể gọi là chưa từng thấy".',
        42500, 0, 100001, 'Ngô Tất Tố');
insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Văn Học Tuổi 20', '/image/van-hoc-tuoi-20.png', '',
        'Như những mảnh ghép mơ hồ, rời rạc về thân phận con người: Một nhân viên văn phòng lúc nào cũng ám ảnh về chuyện những con thú hoang xổng chuồng từ một vườn bách thú gần nhà. Một cô gái trẻ luôn đau đáu về người cha bỗng dưng biến mất trong một đêm mùa đông rét mướt. Hay một người phụ nữ thương hại cho một con ngựa già bị giam giữ và hành hạ trong một nhà sách. Những thân phận người hiện rõ trong một đêm mưa rét ở quán bar tồi tàn. Những chi tiết ảo – thực đan xen tạo nên một bức tranh vẽ lên một tâm tưởng, khát khao thoát khỏi nghịch cảnh, đi tìm bản ngã của chính mình.',
        90000, 0, 100001, 'Nguyên Nguyên');
insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Túp Lều Bác Tôm', '/image/tup-leu-bac-tom.png',
        'Harriet Beecher Stowe sống ở bang Ohaio, một bang sát miền Nam nước Mỹ, nơi chế độ nô lệ tồn tại khốc liệt nhất. Bà đã mắt thấy tai nghe những cảnh buôn bán nô lệ rất thương tâm, bà đã chứng kiến những cảnh lao động khổ nhục của người nô lệ... Đồng thời bà cũng chứng kiến những cuộc đấu tranh tự giải phóng của người da đen và đã viết lên tác phẩm Túp Lều Bác Tôm này.',
        '- Túp Lều Bác Tôm là bản hòa ca ca ngợi sự trung thực, dũng cảm và khao khát sống cuộc đời tự do của những người nô lệ da đen. Đồng thời là lời lên án đanh thép dành cho chế độ nô lệ tàn ác.<br/>- Với tác phẩm của mình, nhà văn Harriet Beecher Stowe  đã góp phần vào công cuộc giải phóng nô lệ ở nước Mỹ; bà tố cáo thống thiết chế độ vô nhân đạo ấy, khích lệ những người Mỹ có lương tâm đấu tranh để tiêu diệt nó.',
        115000, 0, 100001, 'Harriet Beecher Stowe');

insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Vợ Nhặt', '/image/vo-nhat.png',
        'Tập truyện ngắn Vợ nhặt tập hợp những truyện ngắn đặc sắc nhất của Kim Lân – một cây bút truyện ngắn vững vàng, viết về cuộc sống và con người ở nông thôn bằng tình cảm, tâm hồn của một người vốn là con đẻ của đồng ruộng.',
        'Thông tin tác giả<br/>
Kim Lân tên thật là Nguyễn Văn Tài, sinh ngày 1 tháng 8 năm 1920.<br/>
Ông quê ở làng Phù Lưu, xã Tân Hồng, huyện Từ Sơn (nay là làng Phù Lưu, phường Đông Ngàn, thị xã Từ Sơn), tỉnh Bắc Ninh. Do hoàn cảnh gia đình khó khăn, ông chỉ được học hết bậc tiểu học rồi phải đi làm. Kim Lân bắt đầu viết truyện ngắn từ năm 1941. Một số truyện (Vợ nhặt, Đứa con người vợ lẽ,...) mang tính chất tự truyện nhưng đã thể hiện được không khí tiêu điều, ảm đạm của nông thôn Việt Nam và cuộc sống lam lũ, vất vả của người nông dân thời kì đó.<br/>
Sau Cách Mạng tháng Tám, Kim Lân tiếp tục làm báo, viết văn. Ông vẫn chuyên về truyện ngắn và vẫn viết về làng quê Việt Nam - mảng hiện thực mà từ lâu ông đã hiểu biết sâu sắc. Những tác phẩm chính: Nên vợ nên chồng (tập truyện ngắn, 1955), Con chó xấu xí (tập truyện ngắn, 1962).',
        60000, 51000, 100001, 'Kim Lân');
insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Số Đỏ', '/image/so-do.png',
        'Số đỏ là một tiểu thuyết NXB Văn Học của nhà văn Vũ Trọng Phụng, đăng ở Hà Nội báo từ số 40 ngày 7 tháng 10 năm 1936 và được in thành sách lần đầu vào năm 1938. Nhiều nhân vật và câu nói trong tác phẩm đã đi vào cuộc sống đời thường và tác phẩm đã được dựng thành kịch, phim. Nhân vật chính của Số đỏ là Xuân - biệt danh là Xuân Tóc đỏ, từ chỗ là một kẻ bị coi là hạ lưu, bỗng nhảy lên tầng lớp danh giá của xã hội nhờ trào lưu Âu hóa của giới tiểu tư sản Hà Nội khi đó. Tác phẩm Số đỏ, cũng như các tác phẩm khác của Vũ Trọng Phụng đã từng bị cấm lưu hành tại Việt Nam Dân chủ Cộng hòa trước năm 1975 cũng như tại Việt Nam thống nhất cho đến năm 1986.',
        'Thông tin tác giả<br/>
Vũ Trọng Phụng (1912 - 1939) sinh tại Hà Nội trong một gia đình nghèo. Chính quê nhà văn ở làng Hảo (tức Bần Yên Nhân, huyện Mỹ Hào, tỉnh Hưng Yên). Ông thân sinh ra Vũ Trọng Phụng là thợ tiện, mất khi nhà văn mới bảy tháng tuổi. Mẹ nhà văn làm nghề khâu vá thuê, khi chồng chết mới hai mươi tư tuổi và ở vậy nuôi con.<br/>
Vũ Trọng Phụng có truyện ngắn đăng trên nhiều tờ báo từ năm 1930. Tác phẩm của nhà văn hầu hết đăng báo trước khi in thành sách.<br/>
Tác phẩm chính: Không một tiếng vang (kịch, 1931), Cạm bẫy người (phóng sự, 1933), Dứt tình (tiểu thuyết, 1934), Kỹ nghệ lấy Tây (phóng sự, 1934), Giông tố (tiểu thuyết, 1936), Cơm thầy cơm cô (phóng sự, 1936), Vỡ đê (tiểu thuyết, 1936), Số đỏ (tiểu thuyết, 1936), Làm đĩ (tiểu thuyết, 1936), Lấy nhau vì tình (tiểu thuyết, 1937), Lục sì (phóng sự, 1937), Trúng số độc đắc (tiểu thuyết, 1938),... và nhiều truyện ngắn.<br/>
Ông mất ngày 13 tháng 10 năm 1939 vì bệnh lao.', 63000, 53400, 100001, 'Vũ Trọng Phụng');

insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Tàn Lửa', '/image/tan-lua.png', 'Cuộc sống bình lặng của gia đình Kajima Isao, một cựu thẩm phán mới về hưu hoàn toàn xáo trộn trước sự xuất hiện của người hàng xóm mới. Người đó là Takeuchi Shingo, bị cáo của một vụ sát hại ba người trong một gia đình từng được ông tuyên vô tội cách đây hai năm. Cư xử lịch thiệp và tinh tế, Takeuchi dần trở thành một người láng giềng thân thiết với gia đình Isao. Nhưng rồi, những sự việc bí ẩn liên tiếp xảy đến với gia đình ông: cái chết đột ngột của người mẹ già, sự thật ngỡ đã được chôn vùi trong quá khứ đột nhiên bị phơi bày trước mắt… Những nghi ngờ bắt đầu nhen lên, rồi sau đó là cuộc đua nghẹt thở và kịch tính hòng tìm ra sự thật trước khi một thảm kịch khác kéo đến…<br/>
Tàn lửa cũng được dựng thành phim truyền hình một tập vào năm 2005 và phim truyền hình nhiều tập vào năm 2016.',
        'Thông tin tác giả<br/>
Shizukui Shusuke, nhà văn người Nhật Bản.<br/>
Shizukui Shusuke ra mắt vào năm 2000 với tác phẩm Kouei itto (Hết mình cho vinh quang – tạm dịch). Sau đó, Hannin ni tsugu (Gửi đến hung thủ - tạm dịch) ra mắt năm 2004 đã đứng đầu trong hạng mục “Shukanbunshun mystery best 10” của tạp chí Shukanbunshun. Ngoài ra, Shizukui Shusuke cũng chấp bút nhiều tác phẩm khác nữa.',
        185000, 0, 100001, 'Shizukui Shusuke');

insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Hương Quê', '/image/huong-que.png', '', 'Hương Quê gồm 23 truyện ngắn thấm đẫm hương vị Nam bộ của nhà văn Sơn Nam, từng được in trên tạp chí cùng tên trước năm 1975, của hội Khuyến nông miền Nam.<br/>
Các truyện ngắn trong Hương Quê thường bắt đầu bằng một chi tiết hoặc hình ảnh rất đỗi bình thường, sau khi đưa ta vào những nẻo quanh co kỳ thú, đến khi kết thúc, lại khiến ta ngạc nhiên bất ngờ - Tưởng vậy mà không phải vậy! Ta cảm nhận một vẻ sâu sắc ẩn dưới sự mộc mạc giản dị.<br/>
Cầu kỳ là dễ học được, vì nó là sự thu vào, là kiến thức. Còn giản dị mới khó, bởi là trải nghiệm, từ trong mà ra. Chỉ những tâm hồn trưởng thành thật sự mới có thể đạt đến giản dị thuần khiết như vậy.',
        100000, 0, 100001, 'Sơn Nam');

insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Sống Mòn', '/image/song-mon.png', 'Nam Cao có bút danh là Thúy Rư, Xuân Du, Nguyệt, Nhiêu Khê...<br/>
Tên khai sinh: Trần Hữu Tri, sinh ngày 29 tháng 10 năm 1917. Quê quán: làng Đại Hoàng, phủ Lý Nhân, tỉnh Hà Nam (nay là xã Hòa Hậu, huyện Lý Nhân, Hà Nam).',
        'Năm 1951, ông tham gia đoàn công tác thuế nông nghiệp ở khu III. Nhà văn bị địch phục kích và hy sinh tại Hoàng Đan (Ninh Bình) ngày 30 tháng 11 năm 1951.<br/>
Khi còn nhỏ Nam Cao học ở làng và thành phố Nam Định. Từ 1936, bắt đầu viết văn in trên các báo: Tiểu thuyết thứ bảy, Ích hữu... Năm 1938, dạy học tư ở Hà Nội và viết báo. Năm 1941, ông dạy học tư ở Thái Bình. Năm 1942, ông trở về quê, tiếp tục viết văn. Năm 1943, Nam Cao gia nhập Hội Văn hóa Cứu quốc. Cách mạng Tháng Tám (1945), ông tham gia giành chính quyền ở phủ Lý Nhân, và được cử làm Chủ tịch xã. Năm 1946, ra Hà Nội, hoạt động trong Hội Văn hóa Cứu quốc và là Thư ký tòa soạn tạp chí Tiên phong của Hội. Cùng năm đó, ông tham gia đoàn quân Nam tiến với tư cách phóng viên, hoạt động ở Nam Bộ. Sau đó lại trở về nhận công tác ở Ty Văn hóa Hà Nam. Mùa thu 1947, Nam Cao lên Việt Bắc, làm phóng viên báo Cứu quốc, cùng phụ trách báo Cứu quốc và là Thư ký tòa soạn báo Cứu quốc Việt Bắc. Năm 1950, ông nhận công tác ở tạp chí Văn nghệ (thuộc Hội Văn nghệ Việt Nam) và là Ủy viên Tiểu ban Văn nghệ Trung ương. Năm 1951, ông tham gia đoàn công tác thuế nông nghiệp ở khu III. Nhà văn bị địch phục kích và hy sinh tại Hoàng Đan (Ninh Bình) cuối tháng 11 năm 1951.<br/>
“Cuối năm 1944, Nam Cao viết xong Sống mòn. Tập tiểu thuyết ấy quăng đi, ném lại, không lọt qua được lưới kiểm duyệt để xuất bản, tuy rằng soi từng chữ không có chỗ nào bắt bẻ được. Sống mòn tả cuộc sống thiểu não, quẩn quanh, nhỏ nhen của mấy người trí thức tiểu tư sản nghèo, một cuộc sống mù xám cứ "mốc lên, rỉ đi, mòn ra, mục ra", không có lối thoát. Rộng hơn là vận mệnh mấy con người ấy, ta thấy đặt ra một cách ám ảnh vấn đề vận mệnh chung của cả một xã hội chua xót, đau đớn, buồn thảm, tủi nhục, trong đó, đời sống không còn ý nghĩa, quay về phía nào cũng thấy dựng lên những bức tường bế tắc.”',
        73000, 62000, 100001, 'Nam Cao');
insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Sự Trả Thù Hoàn Hảo', '/image/su-tra-thu-hoan-hao.png', '', 'Cam Giai Ninh thời sinh viên vốn được mệnh danh là “Nữ hoàng hóa học”, vì trả thù cho chồng nên cô đã thiết kế ra bom nổ giết chết ba người ở Sở Công an huyện và đồng thời cũng kết thúc luôn mạng sống của mình. Vợ con những vị quan chức ngành Công an đó đã giày vò con trai và mẹ chồng Cam Giai Ninh vô cùng tàn nhẫn. Trần Tiến - tiến sĩ ngành Hóa ở Mĩ là bạn cũ của Cam Giai Ninh đã lập tức trở về nước, lên kế hoạch hoàn hảo để giúp cô trả thù, bảo vệ con trai cô. Anh ta đã dùng những kiến thức hóa học siêu đẳng của mình để giết hại những kẻ đó một cách ngoạn mục. Trong quá trình cảnh sát phá án, suy đoán anh ta còn có một kẻ đồng phạm bí ẩn. Công an bắt được Trần Tiến là do anh ta cố tình tự để lộ bản thân.<br/>
 Anh ta có dụng ý gì?<br/>
 Rốt cuộc kẻ đồng bọn bí ẩn đó là ai?<br/>
 Liệu Trần Tiến có thể hoàn thành được kế hoạch và mục đích của mình?', 145000, 0, 100001, 'Tử Kim Trần');
insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Lá Nằm Trong Lá', '/image/la-nam-trong-la.png', '', 'Mở cuốn sách mới của tác giả Nguyễn Nhật Ánh, bạn sẽ gặp những cái tên quen thuộc của những người nổi tiếng ngay trang 5 trang trọng đề tặng “các bạn văn hữu”: nhà thơ Bùi Chí Vinh, Phạm Sỹ Sáu, Lê Minh Quốc, nhà văn Nguyễn Đông Thức, nhà phê bình Huỳnh Như Phương, nhà báo Nguyễn Công Khế, Kim Hạnh, … Tuổi niên thiếu của “những thằng quỷ nhỏ” trong truyện có gắn gì với họ không, có phải là họ không, chỉ họ và tác giả mới biết, nhưng bạn đọc thì có thể tưởng tượng ra một nhóm “thằng” thân thiết, bắt đầu lớn, biết thinh thích con gái và ngập mộng văn chương.<br/>
Chuyện của bút nhóm học trò, truyện nằm trong truyện, những cơn giận dỗi ghen tuông bạn gái bạn trai với nhau, nhiều nhất vẫn là chuyện nhà trường có các cô giáo hơn trò vài tuổi coi trò như bạn, có thầy hiệu trưởng tâm lý và yêu thương học trò coi trò như con…Trở lại với đề tài học trò, hóm hỉnh và gần gũi như chính các em, Nguyễn Nhật Ánh chắc chắn sẽ được các bạn trẻ vui mừng đón nhận. Cứ lật đằng cuối sách, đọc bài thơ tình trong veo là có thể thấy điều đó “…Khi mùa xuân đến / Tình anh lại đầy / Lá nằm trong lá / Tay nằm trong tay”<br/>
“Viết cho trẻ con giờ khó hơn xưa. Có hàng bao nhiêu là món giải trí rầm rộ, hoành tráng và lộng lẫy dọn sẵn, muốn thu phục “lũ tiểu yêu” thế kỷ 21 này, nhà văn không chỉ thông thuộc mặt bằng hiểu biết của chúng, mà còn phải tâm tình được với chúng bằng tốc độ của chúng. Có thể nói Nguyễn Nhật Ánh là một người lớn chấp nhận tham dự món du hành tốc độ cao cùng lũ trẻ. Thời thong thả đạp xe, từ tốn khuyên bảo đã qua rồi. Thực ra Nguyễn Nhật Ánh đã biết đi tàu tốc hành từ hai thập niên trước, khi nhữngKính vạn hoa, Thằng quỷ nhỏ, Bàn có năm chỗ ngồi… đem lại cho văn học thiếu nhi một diện mạo mới mẻ, những câu chuyện tưởng như ấm ớ ngày này qua tháng khác nhưng sao hôm nay nhìn lại, những người đã từng là trẻ con thấy nhớ quá..” (VIỆT TRUNG, báo Thanh Niên)<br/>
“Bước vào khoảng trời của tuổi biết buồn, Nguyễn Nhật Ánh đã ghi lại những bâng khuâng rung cảm đầu đời. Trong tâm tưởng của các em, bây giờ không chỉ nghĩ về cái gì mà còn nghĩ về ai, về một người khác giới cụ thể nào, và về cả bản thân, thế giới ấy tràn ngập những câu hỏi xôn xao về cái-gọi-là-tình-yêu. Truyện của Nguyễn Nhật Ánh đã đưa vào những câu hỏi lớn, muôn thuở, quen thuộc - những câu hỏi mà dường như trong đời ai cũng từng đối diện ít nhất một lần. Vì thế, trong khi độc giả thiếu niên phục lăn vì nhà văn đi guốc vào bụng họ, thì độc giả người lớn mỉm cười mơ màng nhớ lại một thời thơ dại..." (TS. NGUYỄN THỊ THANH XUÂN, nhà nghiên cứu văn học)',
        100000, 0, 100001, 'Nguyễn Nhật Ánh');
insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
values ('Truyện Kiều', '/image/truyen-kieu.png', '', 'Quyển Truyện  Thúy  Kiều  này  là  một  quyển  sách  kiệt tác làm bằng quốc âm ta. Người  trong nước từ kẻ ngu phu  ngu  phụ  cho  chí  người  có  văn  học,  ai  cũng  biết,  ai  cũng đọc, mà ai cũng chịu là hay. Một quyển sách có giá trị  như  thế,  mà  chỉ  hiềm  vì  các  bản  in  ra,  có  nhiều  bản  không giống nhau, rồi có người lại tự ý mình đem chữa đi, chữa lại, thành ra càng ngày càng sai lầm thêm ra. Mới đây những bản in bằng quốc ngữ, tuy có dễ đọc và dễ xem hơn trước,  nhưng  chưa  thấy  có  bản  in  nào  thật  chính  đáng,  những điều sai lầm vẫn còn như các bản chữ Nôm cũ, mà chữ quốc ngữ viết lại không được đúng, và những lời giải thích  cũng  không  kỹ  càng  lắm.  Chúng  tôi  thấy  vậy,  mới  nhặt nhạnh các bản cũ, rồi so sánh với các bản mới để hiệu chỉnh lại cho gần được như nguyên văn. Chúng tôi lại hết sức tìm tòi đủ các điển tích mà giải thích cho rõ ràng, để ai xem cũng hiểu, không phải ngờ điều gì nữa.Hiện  nay  tập  nguyên  văn  của  tác  giả  làm  ra  thì  không tìm thấy nữa, chỉ có hai bản khác nhau ít nhiều là: bản Phường in ở phố Hàng Gai, Hà Nội; và bản Kinh của vua Dực Tông bản triều đã chữa lại.Bản Phường là bản của ông Phạm Quý Thích đem khắc, in ra trước hết cả.<br/>
Ông hiệu là Lập Trai, người làng Huê  Đường  (nay  đổi  là  làng  Lương  Đường)  phủ  Bình  Giang,  tỉnh  Hải  Dương,  đỗ  tiến  sĩ  về  cuối  đời  Lê,  cùng  với tác giả là bạn đồng thanh đồng khí, cho nên khi quyển truyện  này  làm  xong,  thì  tác  giả  đưa  cho  ông  xem.  Chắc  cũng có sửa đổi lại một vài câu, nhưng xem lời văn thì chỗ nào cũng một giọng cả. Vậy nên chúng tôi thiết tưởng rằng lấy  bản  Phường  làm  cốt,  thì  có  lẽ  không  sai  lầm  là  mấy.  Còn những chỗ mà bản Kinh đổi khác đi, hoặc những câu về sau người ta sửa lại, thì chúng tôi phụ lục cả ở dưới, để độc giả có thể xem mà cân nhắc hơn kém. Lại có một vài chữ người ta muốn đổi đi, nhưng không đúng với các bản Nôm  cũ,  thì  chúng  tôi  cũng  chú  thích  xuống  dưới,  chứ  không tự tiện mà đổi nguyên văn. Chủ ý của chúng tôi là muốn giữ cho đúng các bản cũ, chứ không phải muốn làm cho hay hơn.Truyện Thúy Kiều này nguyên lúc đầu tác giả nhan là Đoạn  trường  tân  thanh.  Sau  nghe  đâu  ông  Phạm  Quý  Thích đổi lại là Kim, Vân, Kiều tân truyện. Nhưng vì trong truyện  chỉ  có  Thúy  Kiều  là  vai  chính,  còn  Kim  Trọng  và  Thúy Vân là vai phụ cả. Nếu đề như vậy, thì e không hợp lẽ. Vả chăng tục thường gọi là Truyện Kiều, thì chi bằng ta cứ  theo  thói  thường  mà  nhan  là  Truyện  Thúy  Kiều,  rồi  ở  dưới đề thêm tên cũ: Đoạn trường tân thanh, gọi là để tỏ cái ý tồn cổ. Song đấy là nói về phần hình thức ở bề ngoài, còn về phần tinh thần và văn chương trong Truyện Thúy Kiều, thì sau này chúng tôi sẽ đem ý kiến riêng mà bày tỏ ra đây, họa may có bổ ích được điều gì chăng. Vậy trước hết xin lược thuật cái lịch sử của tác giả, để độc giả hiểu rõ tác giả là người thế nào.', 68000, 59000, 100001, 'Nguyễn Du');

# insert into PRODUCT(name, image, info, descriptions, price, sale_price, category_id, author)
# values ('Vượt Qua Sợ Hãi6', '/image/tup-leu-bac-tom.png', '', 'Truyện hay', 269000, 269000, 100001, 'Vũ Trọng Phụng');


create table WAREHOUSE
(
    id           int(11)  not null primary key auto_increment,
    product_id   int(11) unique,
    amount       int(100) not null,
    input_amount int(100) not null,
    input_price  int(100) not null,
    note         nvarchar(255),
    constraint fk_22 foreign key (product_id) references PRODUCT (id) ON DELETE CASCADE
);

ALTER TABLE WAREHOUSE
    AUTO_INCREMENT = 100001;

insert into warehouse(product_id, amount, input_amount, input_price, note)
values (100001, 50, 50, 10000, '');
insert into warehouse(product_id, amount, input_amount, input_price, note)
values (100002, 50, 59, 15000, '');
insert into warehouse(product_id, amount, input_amount, input_price, note)
values (100003, 50, 50, 10000, '');
insert into warehouse(product_id, amount, input_amount, input_price, note)
values (100004, 50, 50, 17000, '');
insert into warehouse(product_id, amount, input_amount, input_price, note)
values (100005, 50, 50, 10000, '');

create table WISHLIST
(
    id         int(10) not null auto_increment primary key,
    product_id int(11) not null,
    user_id    int(11) not null,
    constraint fk_23 foreign key (product_id) references PRODUCT (id) ON DELETE CASCADE,
    constraint fk_24 foreign key (user_id) references USER (id) ON DELETE CASCADE
);

ALTER TABLE WISHLIST
    AUTO_INCREMENT = 100001;

create table CART
(
    id         int(10) not null auto_increment primary key,
    product_id int(11) not null,
    amount     int(11),
    user_id    int(11),
    total      int(11),
    status     int(11),
    constraint fk_5 foreign key (user_id) references USER (id) ON DELETE CASCADE,
    constraint fk_6 foreign key (product_id) references PRODUCT (id) ON DELETE CASCADE
);

ALTER TABLE CART
    AUTO_INCREMENT = 100001;


create table ORDERS
(
    id             int(100) not null primary key auto_increment,
    first_name     nvarchar(100),
    last_name      nvarchar(100),
    email          varchar(100),
    phone          nvarchar(100),
    address        nvarchar(100),
    province       nvarchar(100),
    district       nvarchar(100),
    commune        nvarchar(100),
    special_notes  nvarchar(100),
    modefined_date datetime,
    total_price    int,
    payment_method varchar(20),
    user_id        int(100),
    status         int(100) not null,
    constraint fk1232 foreign key (user_id) references user (id) ON DELETE CASCADE
);

ALTER TABLE ORDERS
    AUTO_INCREMENT = 100001;

create table ORDERS_DETAILS
(
    id         int(100) not null primary key auto_increment,
    product_id int(100) not null,
    order_id   int(100) not null,
    unit_price int(100) not null,
    amount     int(10)  not null,
    constraint fk1233 foreign key (product_id) references product (id) ON DELETE CASCADE,
    constraint fk1234 foreign key (order_id) references orders (id) ON DELETE CASCADE
);

ALTER TABLE ORDERS_DETAILS
    AUTO_INCREMENT = 100001;

CREATE VIEW V_STATISTIC
AS
SELECT p.id,
       p.name,
       input_price * input_amount                                   input_money,
       (input_amount - amount) * price                              output_money,
       (input_amount - amount) * price - input_price * input_amount profit
FROM product p,
     warehouse w
WHERE p.id = w.product_id;

CREATE VIEW V_STATISTIC_PRODUCT
AS
SELECT p.id,
       p.name,
       od.amount * od.unit_price total_price,
       o.modefined_date
FROM product p,
     orders o,
     orders_details od
WHERE p.id = od.product_id
  AND o.id = od.order_id
  AND o.status = 3
ORDER BY o.modefined_date DESC;

create table provinces
(
    id           varchar(255) not null
        primary key,
    name         varchar(255) null,
    type         varchar(255) null
);

create table districts
(
    id           varchar(255) not null
        primary key,
    name         varchar(255) null,
    type         varchar(255) null,
    province_id  varchar(255) null,
    constraint FK_1aoqj8kevgxwuimsdkt1jwuhc
        foreign key (province_id) references provinces (id)
);

create table commune
(
    id            varchar(255) not null
        primary key,
    name          varchar(255) null,
    transport_fee bigint       null,
    type          varchar(255) null,
    district_id   varchar(255) null,
    constraint FK_oqaytsw51ty0l31ra6b24i7x3
        foreign key (district_id) references districts (id)
);

